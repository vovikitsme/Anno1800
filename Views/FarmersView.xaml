<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="Anno1800.Views.FarmersView"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    Title="Farmers">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">

            <Label
                FontAttributes="Bold"
                FontSize="22"
                HorizontalOptions="Center"
                Text="Фермеры" />

            <Label FontSize="18" Text="Укажите количество фермеров:" />
            <Frame
                Padding="0"
                BorderColor="LightGray"
                CornerRadius="10"
                HasShadow="False">
                <Entry
                    FontSize="16"
                    HeightRequest="50"
                    Keyboard="Numeric"
                    Placeholder="Например: 100"
                    Text="{Binding FarmersCount}" />
            </Frame>

            <!--  Список потребностей  -->
            <CollectionView ItemsSource="{Binding Needs}">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Grid
                            Margin="0,5"
                            Padding="5"
                            ColumnDefinitions="Auto,*,Auto">
                            <Image
                                HeightRequest="32"
                                Source="{Binding IconPath}"
                                WidthRequest="32" />
                            <VerticalStackLayout Grid.Column="1" Padding="10,0">
                                <Label FontAttributes="Bold" Text="{Binding Name}" />
                                <Label
                                    FontSize="12"
                                    Text="{Binding NeedTypeName}"
                                    TextColor="Gray" />
                            </VerticalStackLayout>
                            <Label
                                Grid.Column="2"
                                Text="{Binding ConsumptionRate, StringFormat='{}{0:0.##}/чел.'}"
                                TextColor="DarkGreen"
                                VerticalOptions="Center" />
                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <!--  Кнопка  -->
            <Button
                Margin="0,10,0,0"
                BackgroundColor="#5C27FE"
                Command="{Binding CalculateCommand}"
                CornerRadius="12"
                FontSize="18"
                HeightRequest="55"
                Text="Рассчитать"
                TextColor="White">
                <Button.Shadow>
                    <Shadow
                        Brush="Black"
                        Opacity="0.3"
                        Radius="10"
                        Offset="5,5" />
                </Button.Shadow>
            </Button>

            <!--  Результат  -->
            <Label
                Margin="0,20,0,0"
                FontSize="16"
                Text="{Binding CalculationResult}"
                TextColor="Black" />
        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
